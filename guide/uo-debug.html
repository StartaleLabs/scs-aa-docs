<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    
    <title>üõ†Ô∏è Debugging Guide for UserOperations in Account Abstraction | AA Toolkit docs</title>
    <meta name="description" content="Account Abstraction Toolkit Guide on Soneium and Minato">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.DFTx90Kk.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.Yv9tMCdR.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.CDm2W-g2.js">
    <link rel="modulepreload" href="/assets/chunks/framework.Dh1jimFm.js">
    <link rel="modulepreload" href="/assets/guide_uo-debug.md.DpMarBgd.lean.js">
    <link rel="icon" type="image/png" href="/scs_icon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script id="check-dark-mode">document.documentElement.classList.add("dark");</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/" data-v-1168a8e4><!--[--><!--]--><!--[--><img class="VPImage logo" src="/scs_lockup_horizontal_white.svg" alt data-v-8426fc1a><!--]--><span data-v-1168a8e4>AA Toolkit docs</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide/tech-stack.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/examples/sponsorship-pm.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Examples</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/support.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Support</span><!--]--></a><!--]--><!--]--></nav><!----><!----><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/StartaleLabs" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://t.me/startalecloudservices" aria-label="telegram" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-telegram"></span></a><a class="VPSocialLink no-icon" href="https://discord.gg/2GuvSdzx" aria-label="discord" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-discord"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><!----><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/StartaleLabs" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://t.me/startalecloudservices" aria-label="telegram" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-telegram"></span></a><a class="VPSocialLink no-icon" href="https://discord.gg/2GuvSdzx" aria-label="discord" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-discord"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Guide</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/guide/tech-stack.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Tech stack</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/guide/networks.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Networks</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/guide/endpoints.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Endpoints</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/guide/api-specs.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>API specs</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/guide/uo-status.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>UO Status API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/guide/uo-debug.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Debugging the UO</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h3 class="text" data-v-b3fd67f8>Modules</h3><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/guide/modules/smart-session.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Smart Sessions</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _guide_uo-debug" data-v-39a288b8><div><h1 id="üõ†Ô∏è-debugging-guide-for-useroperations-in-account-abstraction" tabindex="-1">üõ†Ô∏è <strong>Debugging Guide for UserOperations in Account Abstraction</strong> <a class="header-anchor" href="#üõ†Ô∏è-debugging-guide-for-useroperations-in-account-abstraction" aria-label="Permalink to &quot;üõ†Ô∏è **Debugging Guide for UserOperations in Account Abstraction**&quot;">‚Äã</a></h1><p>When sending a <code>UserOperation</code> to the bundler, it can sometimes be unclear if it was included in a block or reverted. Here&#39;s how you can debug step-by-step.</p><hr><h2 id="_1Ô∏è‚É£-understanding-bundler-s-receipt-via-eth-getuseroperationbyhash" tabindex="-1">1Ô∏è‚É£ Understanding Bundler&#39;s Receipt via <code>eth_getUserOperationByHash</code> <a class="header-anchor" href="#_1Ô∏è‚É£-understanding-bundler-s-receipt-via-eth-getuseroperationbyhash" aria-label="Permalink to &quot;1Ô∏è‚É£ Understanding Bundler&#39;s Receipt via `eth_getUserOperationByHash`&quot;">‚Äã</a></h2><p>The first step is to poll the bundler to check if the <code>UserOperation</code> has been included using:</p><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">BUNDLER_URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  method: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;POST&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  headers: { </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Content-Type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;application/json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  body: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stringify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    jsonrpc: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    id: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    method: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;eth_getUserOperationByHash&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    params: [userOpHash],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p>The response structure looks like this if the <code>UserOperation</code> has been included:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;jsonrpc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;result&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;userOperationHash&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;sender&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;nonce&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;paymaster&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;transactionHash&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;reason&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;gasUsed&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;actualGasCost&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x...&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><blockquote><p>‚úÖ transactionHash present ‚Üí Operation was included<br> ‚ùå <strong>transactionHash null</strong> ‚Üí Still pending or dropped</p></blockquote><p>If <code>success</code> is <code>false</code>, you may also see a <code>reason</code> field with the revert reason (if the bundler captured it).</p><hr><h2 id="_2Ô∏è‚É£-checking-block-explorer-blockscout" tabindex="-1">2Ô∏è‚É£ Checking Block Explorer (Blockscout) <a class="header-anchor" href="#_2Ô∏è‚É£-checking-block-explorer-blockscout" aria-label="Permalink to &quot;2Ô∏è‚É£ Checking Block Explorer (Blockscout)&quot;">‚Äã</a></h2><p>If the <code>transactionHash</code> is present, go to the testnet block explorer like:</p><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> https</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//explorer-testnet.soneium.org/tx/&lt;transactionHash&gt; </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> https</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//soneium-minato.blockscout.com/tx/&lt;transactionHash&gt;</span></span></code></pre></div><p>You&#39;ll see the following:</p><ul><li><strong>Status:</strong> Success or Failed</li><li><strong>Gas used / Actual cost</strong></li><li><strong>Logs &amp; Events</strong> (Useful for checking emitted logs or debugging)</li><li><strong>Function call data</strong> (decoded input data)</li></ul><p><strong>Blockscout</strong> also now supports ERC-4337-specific views for <code>UserOperations</code>. Look for:</p><ul><li>UserOp Hash</li><li>Sender (smart account)</li><li>Paymaster used</li><li>EntryPoint contract</li><li>Bundler address</li></ul><blockquote><p>If status is failed, check:</p><ul><li>Whether the smart account was deployed</li><li><code>initCode</code> was correct</li><li>Paymaster had enough balance or permission</li><li><code>revertReason</code> from bundler response (if any)</li></ul></blockquote><hr><h2 id="_3Ô∏è‚É£-using-tenderly-for-deep-debugging" tabindex="-1">3Ô∏è‚É£ Using Tenderly for Deep Debugging <a class="header-anchor" href="#_3Ô∏è‚É£-using-tenderly-for-deep-debugging" aria-label="Permalink to &quot;3Ô∏è‚É£ Using Tenderly for Deep Debugging&quot;">‚Äã</a></h2><p>To debug deeper (like step-by-step trace of contract calls), you can use Tenderly:</p><h3 id="‚úÖ-how-to-use-tenderly" tabindex="-1">‚úÖ How to Use Tenderly: <a class="header-anchor" href="#‚úÖ-how-to-use-tenderly" aria-label="Permalink to &quot;‚úÖ How to Use Tenderly:&quot;">‚Äã</a></h3><ol><li><strong>Find your transaction hash</strong> via the bundler receipt or blockscout.</li><li>Open:</li></ol><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">https</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//dashboard.tenderly.co/public/&lt;your-project&gt;/tx/&lt;transactionHash&gt;</span></span></code></pre></div><p>Replace <code>&lt;your-project&gt;</code> with your public project name if you have one. If you&#39;re using a private workspace, login to Tenderly and go to the transaction dashboard.</p><ol start="3"><li><strong>View Execution Trace:</strong><ul><li>See all internal contract calls</li><li>Hover over steps to view decoded inputs and return values</li><li>Identify the exact contract and function where failure occurred</li></ul></li><li><strong>Check Gas Report &amp; State Changes:</strong><ul><li>Analyze which call consumed how much gas</li><li>Inspect changes to smart contract storage</li></ul></li></ol><blockquote><p>üîç You can even fork the transaction and simulate fixes directly in Tenderly.</p></blockquote><hr><h3 id="‚öôÔ∏è-simulating-useroperations-in-tenderly" tabindex="-1">‚öôÔ∏è Simulating <code>UserOperation</code>s in Tenderly <a class="header-anchor" href="#‚öôÔ∏è-simulating-useroperations-in-tenderly" aria-label="Permalink to &quot;‚öôÔ∏è Simulating `UserOperation`s in Tenderly&quot;">‚Äã</a></h3><p>Simulating a <code>UserOperation</code> in Tenderly can help catch failures <strong>before</strong> sending it to the bundler. It provides detailed traces, reverts, and state diffs which make debugging super intuitive.</p><hr><h3 id="üß™-why-use-simulation" tabindex="-1">üß™ Why Use Simulation? <a class="header-anchor" href="#üß™-why-use-simulation" aria-label="Permalink to &quot;üß™ Why Use Simulation?&quot;">‚Äã</a></h3><p>Before sending a <code>UserOperation</code>, it&#39;s good practice to simulate it using either:</p><ul><li><code>EntryPoint.simulateValidation()</code> ‚Äì to check if the bundler would accept it.</li><li><code>EntryPoint.simulateHandleOp()</code> ‚Äì to simulate full execution including <code>execute()</code> call.</li><li>Or simulate the full <code>eth_sendUserOperation</code> payload directly in Tenderly!</li></ul><hr><h3 id="üöÄ-steps-to-simulate-a-useroperation-in-tenderly" tabindex="-1">üöÄ Steps to Simulate a UserOperation in Tenderly <a class="header-anchor" href="#üöÄ-steps-to-simulate-a-useroperation-in-tenderly" aria-label="Permalink to &quot;üöÄ Steps to Simulate a UserOperation in Tenderly&quot;">‚Äã</a></h3><h3 id="_1Ô∏è‚É£-create-a-fork-or-project-in-tenderly" tabindex="-1">1Ô∏è‚É£ Create a Fork or Project in Tenderly <a class="header-anchor" href="#_1Ô∏è‚É£-create-a-fork-or-project-in-tenderly" aria-label="Permalink to &quot;1Ô∏è‚É£ Create a Fork or Project in Tenderly&quot;">‚Äã</a></h3><ul><li>Go to Tenderly Dashboard</li><li>Create a <strong>new project</strong> or use an existing one.</li><li>Create a <strong>fork</strong> of your target network (e.g., Base Sepolia, Soneium Testnet)</li></ul><hr><h3 id="_2Ô∏è‚É£-prepare-your-payload" tabindex="-1">2Ô∏è‚É£ Prepare Your Payload <a class="header-anchor" href="#_2Ô∏è‚É£-prepare-your-payload" aria-label="Permalink to &quot;2Ô∏è‚É£ Prepare Your Payload&quot;">‚Äã</a></h3><p>Prepare the full <code>UserOperation</code> as JSON that you&#39;d send to the bundler:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;sender&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0xYourSmartAccount&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;nonce&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;initCode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;callData&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;callGasLimit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;verificationGasLimit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;preVerificationGas&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;maxFeePerGas&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;maxPriorityFeePerGas&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;paymaster&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0xYourPaymaster&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;paymasterData&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;signature&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x...&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h3 id="_3Ô∏è‚É£-open-tenderly-simulator" tabindex="-1">3Ô∏è‚É£ Open Tenderly Simulator <a class="header-anchor" href="#_3Ô∏è‚É£-open-tenderly-simulator" aria-label="Permalink to &quot;3Ô∏è‚É£ Open Tenderly Simulator&quot;">‚Äã</a></h3><ul><li>Go to your <strong>Fork</strong> in Tenderly</li><li>Click <strong>&quot;Simulate Transaction&quot;</strong> ‚Üí then choose <strong>Custom Call</strong></li></ul><p>Set the parameters:</p><ul><li><strong>From:</strong> <code>EntryPoint</code> contract address</li><li><strong>To:</strong> <code>EntryPoint</code> contract address</li><li><strong>Input:</strong> ABI-encoded call to <code>handleOps([userOp], beneficiary)</code></li></ul><blockquote><p>You can encode this using ethers.js:</p></blockquote><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">entryPointInterface.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">encodeFunctionData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;handleOps&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [[userOp], beneficiary])</span></span></code></pre></div><p>Set:</p><ul><li><strong>Gas limit</strong>: sufficiently high (e.g., <code>10,000,000</code>)</li><li><strong>Value</strong>: 0</li><li><strong>State override</strong>: You can override the <code>sender</code> smart account storage if it‚Äôs not deployed yet</li></ul><hr><h3 id="_4Ô∏è‚É£-run-the-simulation" tabindex="-1">4Ô∏è‚É£ Run the Simulation <a class="header-anchor" href="#_4Ô∏è‚É£-run-the-simulation" aria-label="Permalink to &quot;4Ô∏è‚É£ Run the Simulation&quot;">‚Äã</a></h3><p>Click <strong>Simulate</strong>. You‚Äôll see:</p><ul><li>üìç Every internal call</li><li>üî• Revert reasons</li><li>üìä Gas breakdown</li><li>üß† State diffs</li><li>üßµ Stack traces with contract-level debug</li></ul><hr><h3 id="üßô‚Äç‚ôÄÔ∏è-pro-tips" tabindex="-1">üßô‚Äç‚ôÄÔ∏è Pro Tips <a class="header-anchor" href="#üßô‚Äç‚ôÄÔ∏è-pro-tips" aria-label="Permalink to &quot;üßô‚Äç‚ôÄÔ∏è Pro Tips&quot;">‚Äã</a></h3><ul><li>If your smart account isn&#39;t deployed yet, simulate with <code>initCode</code> and override its nonce or code hash in the state override tab.</li><li>For Paymaster failures, ensure you override the paymaster&#39;s storage/balance if needed.</li><li>Use the Tenderly CLI to script simulations in CI pipelines (e.g., before sending real UserOps).</li></ul><hr><h3 id="‚úÖ-example-debug-flow-with-tenderly" tabindex="-1">‚úÖ Example Debug Flow with Tenderly <a class="header-anchor" href="#‚úÖ-example-debug-flow-with-tenderly" aria-label="Permalink to &quot;‚úÖ Example Debug Flow with Tenderly&quot;">‚Äã</a></h3><ol><li>Generate the UserOp off-chain using your SDK</li><li>Encode the <code>handleOps([userOp], beneficiary)</code> call</li><li>Simulate in Tenderly using your fork</li><li>If simulation fails: <ul><li>Check <code>signature</code></li><li>Check <code>initCode</code> is correct</li><li>Confirm Paymaster is funded/whitelisted</li><li>Inspect revert reason inside your smart account logic</li></ul></li></ol><hr><h3 id="‚úÖ-final-tips" tabindex="-1">‚úÖ Final Tips <a class="header-anchor" href="#‚úÖ-final-tips" aria-label="Permalink to &quot;‚úÖ Final Tips&quot;">‚Äã</a></h3><ul><li><p>If the transaction is not included after retries, check if:</p><ul><li>Your bundler is alive and reachable.</li><li>Your <code>UserOperation</code> passed all simulation checks (e.g., <code>simulateValidation</code>).</li><li>Gas limits are correctly estimated and funded.</li></ul></li><li><p>Use console logs in your scripts to track:</p></li></ul><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;UserOpHash:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, userOpHash);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;TransactionHash:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, result.result?.transactionHash);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Revert reason:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, result.result?.reason);</span></span></code></pre></div><ul><li>Reach out to us on one of the support channels if you are still not able to pass a successful transaction.</li></ul></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/guide/uo-status.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous</span><span class="title" data-v-e257564d>UO Status API</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/guide/modules/smart-session.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next</span><span class="title" data-v-e257564d>Smart Sessions</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"examples_custom-ui.md\":\"CD2oENyo\",\"examples_erc20-pm.md\":\"CqJC5A2B\",\"examples_social-login.md\":\"TGYMjGZC\",\"examples_sponsorship-pm.md\":\"N8q4uXRT\",\"examples_ui-demo.md\":\"ByQMb6pD\",\"guide_api-specs.md\":\"z8gjVO54\",\"guide_endpoints.md\":\"C6SqaLlq\",\"guide_modules_smart-session.md\":\"B9b4rtMw\",\"guide_networks.md\":\"RdywDiAs\",\"guide_tech-stack.md\":\"BdIEqGFa\",\"guide_uo-debug.md\":\"DpMarBgd\",\"guide_uo-status.md\":\"DLkrzzDX\",\"index.md\":\"DGLqk-YA\",\"support.md\":\"0CZlfqF6\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"AA Toolkit docs\",\"description\":\"Account Abstraction Toolkit Guide on Soneium and Minato\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":\"force-dark\",\"themeConfig\":{\"logo\":\"/scs_lockup_horizontal_white.svg\",\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Guide\",\"link\":\"/guide/tech-stack\"},{\"text\":\"Examples\",\"link\":\"/examples/sponsorship-pm\"},{\"text\":\"Support\",\"link\":\"/support\"}],\"docFooter\":{\"next\":\"Next\",\"prev\":\"Previous\"},\"sidebar\":{\"/guide/\":[{\"text\":\"Guide\",\"items\":[{\"text\":\"Tech stack\",\"link\":\"/guide/tech-stack\"},{\"text\":\"Networks\",\"link\":\"/guide/networks\"},{\"text\":\"Endpoints\",\"link\":\"/guide/endpoints\"},{\"text\":\"API specs\",\"link\":\"/guide/api-specs\"},{\"text\":\"UO Status API\",\"link\":\"/guide/uo-status\"},{\"text\":\"Debugging the UO\",\"link\":\"/guide/uo-debug\"},{\"text\":\"Modules\",\"items\":[{\"text\":\"Smart Sessions\",\"link\":\"/guide/modules/smart-session\"}]}]}],\"/examples/\":[{\"text\":\"Examples\",\"items\":[{\"text\":\"Sponsorship Paymaster\",\"link\":\"/examples/sponsorship-pm\"},{\"text\":\"ERC20 Token Paymaster\",\"link\":\"/examples/erc20-pm\"},{\"text\":\"UI integration demo\",\"items\":[{\"text\":\"Using the demo\",\"link\":\"/examples/ui-demo\"},{\"text\":\"Building a custom ui\",\"link\":\"/examples/custom-ui\"},{\"text\":\"Privy Social Login\",\"link\":\"/examples/social-login\"}]}]}]},\"outline\":{\"level\":\"deep\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/StartaleLabs\"},{\"icon\":\"telegram\",\"link\":\"https://t.me/startalecloudservices\"},{\"icon\":\"discord\",\"link\":\"https://discord.gg/2GuvSdzx\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>